<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link href="jsoneditor/jsoneditor.min.css" rel="stylesheet" type="text/css">
    <script src="jsoneditor/jsoneditor.min.js"></script>

    <link rel="stylesheet" href="yic_style.css" />
    <link rel="icon" type="image/png" href="favicon/yourITcity_1_transparent_300x300.png" size="300x300">

    <script src="https://unpkg.com/hyperhtml@latest/min.js"></script>
    <script src="https://unpkg.com/moment@latest/min/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js" integrity="sha256-yr4fRk/GU1ehYJPAs8P4JlTgu0Hdsp4ZKrx8bDEDC3I=" crossorigin="anonymous"></script>
    <title>yourITcity</title>
</head>
<body>
    <nav>
        <a class="youritcity" href="/">yourITcity</a>
        <div></div>
        <p id="last_sse_time">No update</p>
        <button onclick="logout(event)">Logout</button>
    </nav>
    <a class="logobk" href="/">
        <img src="favicon/yourITcity_1_transparent_300x300.png" alt="yourITcity logo" />
    </a>
    
    <div id="wrapper_login">
        <div class="tab">
            <button id="signup_tab" onclick="signup_view(event)" class="active">Sign up</button>
            <button id="login_tab" onclick="login_view(event)">Login</button>
        </div>
        <div id="signup" class="tabcontent">
            <form id="signup-form" >
                <input id="signup_email" type="email" placeholder="Enter your Email" name="email" required>
                <button type="button" id="signupButton" onclick="signup(event)">Signup</button>
                <div id="signup_result" hidden></div>
            </form>
        </div>

        <div id="login" class="tabcontent" hidden>
            <form id="login-form" >
                <input id="login_email" type="email" placeholder="Enter your Email" name="email" required>
                <button type="button" id="loginButton" onclick="login(event)">Login</button>
                <div id="login_result" hidden></div>
            </form>
        </div>
    </div>

    <div id="wrapper_validation" hidden>
        <div id="validation_">
            <h1>A validation link has been send to you by e-mail.</h1>
            <p>Please validate the email to be able tu use yourITcity.</p>
            <p>If you didn't recieved the email. Your can try to login again.</p>
        </div>
    </div>

    
    <div id="wrapper_city" hidden>

        <div id="wrapper_token">
            <h2>Token Management</h2>
            <div id="token_table"></div>
            <div>
                <form>
                    <input id="token_name" name="token_name" placeholder="Name of the token" />
                    <select id="token_type" name="token_type">
                    </select>
                    <button onclick="createToken(event)">Create a new access token</button>
                </form>
            </div>
        </div>
        <div>
            <h3>Sensors Simulator</h3>
            <div id="sensors_simulator"></div>

            <h3>Sensors update:</h3>
            <div id="sensors-list"></div>
        </div>
        <div>
            <h2>Cities</h2>
            <div>
                <button id="new_layout" type="button" onclick="newlayout()">New City layout</button>
            </div>
            <div>
                <h3>City layouts:</h3>
                <div id="layouts-list"></div>
            </div>
            
            <div id="layout_editor" hidden>
                <button id="send_layout" type="button" onclick="handlesendlayout()">Send layout modification</button>
                <button id="close_layouteditor" onclick="document.getElementById('layout_editor').hidden=true">Close</button>
                <div id="jsoneditor"></div>
            </div>
        </div>
        <div id="wrapper_workflow">
            <h2>Workflow</h2>
            <div id="workflow_list"></div>
            <button id="new_workflow" type="button" onclick="newWorkflow()">Create Workflow</button>
            <div id="workflow_editor" hidden>
                <button id="send_layout" type="button" onclick="sendWorkflow()">Send Workflow modification</button>
                <button id="close_layouteditor" onclick="document.getElementById('workflow_editor').hidden=true">Close</button>
                <div id="workflow_jsoneditor"></div>
            </div>
            <div id="workflow_operations"></div>
        </div>
    </div>

    <script src="yic.js"></script>
</body>
</html>